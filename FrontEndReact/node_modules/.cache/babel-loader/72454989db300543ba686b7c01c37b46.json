{"ast":null,"code":"import _defineProperty from \"/Users/macbook/Documents/Bootcamps/andaglos/week10/reactCRUD/FrontEndReact/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/macbook/Documents/Bootcamps/andaglos/week10/reactCRUD/FrontEndReact/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/macbook/Documents/Bootcamps/andaglos/week10/reactCRUD/FrontEndReact/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/macbook/Documents/Bootcamps/andaglos/week10/reactCRUD/FrontEndReact/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/macbook/Documents/Bootcamps/andaglos/week10/reactCRUD/FrontEndReact/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/macbook/Documents/Bootcamps/andaglos/week10/reactCRUD/FrontEndReact/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/macbook/Documents/Bootcamps/andaglos/week10/reactCRUD/FrontEndReact/src/pages/konstituen/Edit.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport FormErrors from '../../components/FormErrors';\n\nvar KonstituenEdit =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(KonstituenEdit, _Component);\n\n  function KonstituenEdit() {\n    var _this;\n\n    _classCallCheck(this, KonstituenEdit);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(KonstituenEdit).call(this));\n\n    _this._handleSubmit = function (e) {\n      var konstituenId = _this.props.match.params.id;\n      var _this$state = _this.state,\n          nama = _this$state.nama,\n          nik = _this$state.nik,\n          hp = _this$state.hp,\n          alamat = _this$state.alamat,\n          kecamatanID = _this$state.kecamatanID,\n          kelurahanID = _this$state.kelurahanID,\n          tps = _this$state.tps;\n      axios.put(\"http://localhost:5000/konstituens/\".concat(konstituenId), {\n        nama: nama,\n        nik: nik,\n        hp: hp,\n        alamat: alamat,\n        kecamatanID: kecamatanID,\n        kelurahanID: kelurahanID,\n        tps: tps\n      }).then(function (res) {\n        // console.log(res)\n        // Cara redirect react router\n        _this.props.history.push('/konstituen');\n      }).catch(function (err) {\n        return console.log(err);\n      }); // Untuk mencegah Submit merefresh page, karena default habit nya submit akan langsung merefresh page  \n\n      e.preventDefault();\n    };\n\n    _this._handleChange = function (e) {\n      var name = e.target.name;\n      var value = e.target.value;\n\n      _this.setState(_defineProperty({}, e.target.name, e.target.value), function () {\n        _this._validateField(name, value);\n      });\n    };\n\n    _this.state = {\n      nama: '',\n      nik: '',\n      hp: '',\n      alamat: '',\n      kecamatanID: '',\n      kelurahanID: '',\n      tps: '',\n      formErrors: {\n        nama: '',\n        nik: '',\n        hp: '',\n        alamat: '',\n        kecamatanID: '',\n        kelurahanID: '',\n        tps: ''\n      },\n      namaValid: false,\n      nikValid: false,\n      hpValid: false,\n      alamatValid: false,\n      kecamatanIDValid: false,\n      kelurahanIDValid: false,\n      tpsValid: false,\n      formValid: false\n    };\n    return _this;\n  }\n\n  _createClass(KonstituenEdit, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      // console.log(this.props)\n      var konstituenId = this.props.match.params.id;\n      axios.get(\"http://localhost:5000/konstituens/\".concat(konstituenId)).then(function (res) {\n        // console.log(res)\n        var _res$data$data = res.data.data,\n            nama = _res$data$data.nama,\n            nik = _res$data$data.nik,\n            hp = _res$data$data.hp,\n            alamat = _res$data$data.alamat,\n            kecamatanID = _res$data$data.kecamatanID,\n            kelurahanID = _res$data$data.kelurahanID,\n            tps = _res$data$data.tps;\n\n        _this2.setState({\n          nama: nama,\n          nik: nik,\n          hp: hp,\n          alamat: alamat,\n          kecamatanID: kecamatanID,\n          kelurahanID: kelurahanID,\n          tps: tps\n        });\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    }\n  }, {\n    key: \"_validateField\",\n    // Validasi Form Input\n    value: function _validateField(fieldName, value) {\n      var fieldValidationErrors = this.state.formErrors;\n      var namaValid = this.state.nama;\n      var nikValid = this.state.nik;\n      var hpValid = this.state.hp;\n      var alamatValid = this.state.alamat;\n      var kecamatanIDValid = this.state.kecamatanID;\n      var kelurahanIDValid = this.state.kelurahanID;\n      var tpsValid = this.state.tps;\n\n      switch (fieldName) {\n        case 'nama':\n          namaValid = value.length > 2;\n          fieldValidationErrors.nama = namaValid ? '' : ' Terlalu Singkat';\n          break;\n\n        case 'nik':\n          nikValid = value.length === 16;\n          fieldValidationErrors.nik = nikValid ? '' : ' Harus 16 Digit';\n          break;\n\n        case 'hp':\n          hpValid = value.length > 10;\n          fieldValidationErrors.hp = hpValid ? '' : ' Terlalu Singkat';\n          break;\n\n        case 'alamat':\n          alamatValid = value.length > 7;\n          fieldValidationErrors.alamat = alamatValid ? '' : ' Terlalu Singkat';\n          break;\n\n        case 'kecamatanID':\n          kecamatanIDValid = value.length >= 1;\n          fieldValidationErrors.kecamatanID = kecamatanIDValid ? '' : ' Harus Di isi';\n          break;\n\n        case 'KelurahanID':\n          kelurahanIDValid = value.length >= 1;\n          fieldValidationErrors.kelurahanID = kelurahanIDValid ? '' : ' Harus Di isi';\n          break;\n\n        case 'tps':\n          tpsValid = value.length >= 1;\n          fieldValidationErrors.tps = tpsValid ? '' : ' Harus Di isi';\n          break;\n\n        default:\n          break;\n      }\n\n      this.setState({\n        formErrors: fieldValidationErrors,\n        namaValid: namaValid,\n        nikValid: nikValid,\n        hpValid: hpValid,\n        alamatValid: alamatValid,\n        kecamatanIDValid: kecamatanIDValid,\n        kelurahanIDValid: kelurahanIDValid,\n        tpsValid: tpsValid\n      }, this._validateForm);\n    }\n  }, {\n    key: \"_validateForm\",\n    value: function _validateForm() {\n      this.setState({\n        formValid: this.state.namaValid && this.state.nikValid && this.state.hpValid && this.state.alamatValid && this.state.kecamatanIDValid && this.state.kelurahanIDValid && this.state.tpsValid\n      });\n    }\n  }, {\n    key: \"_errorClass\",\n    value: function _errorClass(error) {\n      return error.length === 0 ? '' : 'has-error';\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }, \"Edit Konstituen\"), React.createElement(\"div\", {\n        className: \"panel panel-default\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, React.createElement(FormErrors, {\n        formErrors: this.state.formErrors,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      })), React.createElement(\"form\", {\n        onSubmit: this._handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }, \"Nama\"), React.createElement(\"input\", {\n        name: \"nama\",\n        value: this.state.nama,\n        onChange: this._handleChange,\n        className: \"form-control\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"form-group \".concat(this._errorClass(this.state.formErrors.nama)),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }, \"Nomor Induk Kependudukan\"), React.createElement(\"input\", {\n        name: \"nik\",\n        value: this.state.nik,\n        onChange: this._handleChange,\n        className: \"form-control\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }, \"Nomor Handphone\"), React.createElement(\"input\", {\n        name: \"hp\",\n        value: this.state.hp,\n        onChange: this._handleChange,\n        className: \"form-control\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173\n        },\n        __self: this\n      }, \"Alamat\"), React.createElement(\"input\", {\n        name: \"alamat\",\n        value: this.state.alamat,\n        onChange: this._handleChange,\n        className: \"form-control\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182\n        },\n        __self: this\n      }, \"Kecamatan\"), React.createElement(\"input\", {\n        name: \"kecamatanID\",\n        value: this.state.kecamatanID,\n        onChange: this._handleChange,\n        className: \"form-control\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191\n        },\n        __self: this\n      }, \"Kelurahan\"), React.createElement(\"input\", {\n        name: \"kelurahanID\",\n        value: this.state.kelurahanID,\n        onChange: this._handleChange,\n        className: \"form-control\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200\n        },\n        __self: this\n      }, \"Nomor TPS\"), React.createElement(\"input\", {\n        name: \"tps\",\n        value: this.state.tps,\n        onChange: this._handleChange,\n        className: \"form-control\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201\n        },\n        __self: this\n      })), React.createElement(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-primary\",\n        disabled: !this.state.formValid,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207\n        },\n        __self: this\n      }, \"SUBMIT\")));\n    }\n  }]);\n\n  return KonstituenEdit;\n}(Component);\n\nexport default KonstituenEdit;","map":{"version":3,"sources":["/Users/macbook/Documents/Bootcamps/andaglos/week10/reactCRUD/FrontEndReact/src/pages/konstituen/Edit.js"],"names":["React","Component","axios","FormErrors","KonstituenEdit","_handleSubmit","e","konstituenId","props","match","params","id","state","nama","nik","hp","alamat","kecamatanID","kelurahanID","tps","put","then","res","history","push","catch","err","console","log","preventDefault","_handleChange","name","target","value","setState","_validateField","formErrors","namaValid","nikValid","hpValid","alamatValid","kecamatanIDValid","kelurahanIDValid","tpsValid","formValid","get","data","fieldName","fieldValidationErrors","length","_validateForm","error","_errorClass"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\nimport FormErrors from '../../components/FormErrors';\n\nclass KonstituenEdit extends Component {\n  constructor() {\n    super()\n\n    this.state = {\n      nama : '',\n      nik : '',\n      hp : '',\n      alamat : '',\n      kecamatanID : '',\n      kelurahanID : '',\n      tps : '',\n      formErrors : { nama : '', nik : '', hp : '', alamat : '', kecamatanID : '', kelurahanID : '', tps : ''},\n      namaValid : false,\n      nikValid : false,\n      hpValid : false,\n      alamatValid : false,\n      kecamatanIDValid : false,\n      kelurahanIDValid : false,\n      tpsValid : false,\n      formValid : false\n    }\n  }\n\ncomponentDidMount() {\n  // console.log(this.props)\n  const konstituenId = this.props.match.params.id;\n  axios.get(`http://localhost:5000/konstituens/${konstituenId}`)\n  .then(res => {\n    // console.log(res)\n    const { nama, nik, hp, alamat, kecamatanID, kelurahanID, tps } = res.data.data\n    this.setState({\n      nama,\n      nik,\n      hp,\n      alamat,\n      kecamatanID,\n      kelurahanID,\n      tps\n    })\n  })\n  .catch(err => console.log(err))\n}\n\n  _handleSubmit = (e) => {\n    const konstituenId = this.props.match.params.id;\n    const { nama, nik, hp, alamat, kecamatanID, kelurahanID, tps } = this.state\n    axios.put(`http://localhost:5000/konstituens/${konstituenId}`, { nama, nik, hp,  alamat, kecamatanID, kelurahanID, tps })\n      .then(res => {\n        // console.log(res)\n        // Cara redirect react router\n        this.props.history.push('/konstituen')\n      }).catch(err => console.log(err))\n    \n    // Untuk mencegah Submit merefresh page, karena default habit nya submit akan langsung merefresh page  \n    e.preventDefault()\n  }\n\n  _handleChange = (e) => {\n    const name = e.target.name;\n    const value = e.target.value;\n    this.setState({ [e.target.name] : e.target.value }, () => {this._validateField(name, value)} )\n  }\n\n  // Validasi Form Input\n  _validateField(fieldName, value) {\n    let fieldValidationErrors = this.state.formErrors;\n    let namaValid = this.state.nama;\n    let nikValid = this.state.nik;\n    let hpValid = this.state.hp;\n    let alamatValid = this.state.alamat;\n    let kecamatanIDValid = this.state.kecamatanID;\n    let kelurahanIDValid = this.state.kelurahanID;\n    let tpsValid = this.state.tps;\n\n    switch(fieldName) {\n      case 'nama' :\n        namaValid = value.length > 2;\n        fieldValidationErrors.nama = namaValid ? '' : ' Terlalu Singkat';\n        break;\n      case 'nik' :\n        nikValid = value.length === 16;\n        fieldValidationErrors.nik = nikValid ? '' : ' Harus 16 Digit';\n        break;\n      case 'hp' :\n        hpValid = value.length > 10;\n        fieldValidationErrors.hp = hpValid ? '' : ' Terlalu Singkat';\n        break;\n      case 'alamat' :\n        alamatValid = value.length > 7;\n        fieldValidationErrors.alamat = alamatValid ? '' : ' Terlalu Singkat';\n        break;\n      case 'kecamatanID' :\n        kecamatanIDValid = value.length >= 1;\n        fieldValidationErrors.kecamatanID = kecamatanIDValid ? '' : ' Harus Di isi';\n        break;\n      case 'KelurahanID' :\n        kelurahanIDValid = value.length >= 1;\n        fieldValidationErrors.kelurahanID = kelurahanIDValid ? '' : ' Harus Di isi';\n        break;\n      case 'tps' :\n        tpsValid = value.length >= 1;\n        fieldValidationErrors.tps = tpsValid ? '' : ' Harus Di isi';\n        break;\n      default:\n        break;\n    }\n\n    this.setState({ formErrors : fieldValidationErrors,\n                    namaValid : namaValid,\n                    nikValid : nikValid,\n                    hpValid : hpValid,\n                    alamatValid : alamatValid,\n                    kecamatanIDValid : kecamatanIDValid,\n                    kelurahanIDValid : kelurahanIDValid,\n                    tpsValid : tpsValid\n                  }, this._validateForm );\n  }\n\n  _validateForm() {\n    this.setState({ formValid : this.state.namaValid && this.state.nikValid \n                                && this.state.hpValid && this.state.alamatValid \n                                && this.state.kecamatanIDValid && this.state.kelurahanIDValid\n                                && this.state.tpsValid })\n  }\n\n  _errorClass(error) {\n    return (\n      error.length === 0 ? '' : 'has-error'\n    );\n  }\n\n  render() {\n    return (\n        <div>\n          <h1>Edit Konstituen</h1>\n          <div className=\"panel panel-default\">\n            <FormErrors formErrors = { this.state.formErrors } />\n          </div>\n          <form onSubmit = { this._handleSubmit }>\n            <div className=\"form-group\">\n              <label>Nama</label>\n              <input \n                name=\"nama\" \n                value = {this.state.nama} \n                onChange = { this._handleChange } \n                className=\"form-control\"\n              />\n            </div>\n            <div className={`form-group ${this._errorClass(this.state.formErrors.nama)}`}>\n              <label>Nomor Induk Kependudukan</label>\n              <input \n                name=\"nik\" \n                value = {this.state.nik} \n                onChange = { this._handleChange } \n                className=\"form-control\"\n              />\n            </div>\n            <div className=\"form-group\">\n              <label>Nomor Handphone</label>\n              <input \n                name=\"hp\" \n                value = {this.state.hp} \n                onChange = { this._handleChange } \n                className=\"form-control\"\n              />\n            </div>\n            <div className=\"form-group\">\n              <label>Alamat</label>\n              <input \n                name=\"alamat\" \n                value = {this.state.alamat} \n                onChange = { this._handleChange } \n                className=\"form-control\"\n              />\n            </div>\n            <div className=\"form-group\">\n              <label>Kecamatan</label>\n              <input \n                name=\"kecamatanID\" \n                value = {this.state.kecamatanID} \n                onChange = { this._handleChange } \n                className=\"form-control\"\n              />\n            </div>\n            <div className=\"form-group\">\n              <label>Kelurahan</label>\n              <input \n                name=\"kelurahanID\" \n                value = {this.state.kelurahanID} \n                onChange = { this._handleChange } \n                className=\"form-control\"\n              />\n            </div>\n            <div className=\"form-group\">\n              <label>Nomor TPS</label>\n              <input \n                name=\"tps\" \n                value = {this.state.tps} onChange = { this._handleChange } \n                className=\"form-control\"\n              />\n            </div>\n            <button \n              type=\"submit\" \n              className=\"btn btn-primary\"\n              disabled={ !this.state.formValid } >SUBMIT</button>\n          </form>\n        </div>\n    )\n  }\n}\n\nexport default KonstituenEdit;"]},"metadata":{},"sourceType":"module"}